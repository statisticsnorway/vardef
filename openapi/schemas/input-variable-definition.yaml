type: object
properties:
  name:
    title: Name
    description: Name of the variable. Must be unique for a given Unit Type and Owner combination.
    $ref: language-texts.json
    examples:
      - en: "Country Background"
        nb: "Landbakgrunn"
        nn: "Landbakgrunn"
  short_name:
    title: Short name
    description: Recommended short name. Must be unique within an organization.
    type: string
    format: "^[a-z0-9_]{3,}$"
    examples:
      - landbak
      - wkapinnt
      - dek_total
  definition:
    title: Definition
    description: Definition of the variable
    $ref: language-texts.json
    examples:
      - en: "Country background is the person's own, the mother's or possibly the father's country of birth. Persons without an immigrant background always have Norway as country background. In cases where the parents have different countries of birth the mother's country of birth is chosen. If neither the person nor the parents are born abroad, country background is chosen from the first person born abroad in the order mother's mother, mother's father, father's mother, father's father."
        nb: "For personer født i utlandet, er dette (med noen få unntak) eget fødeland. For personer født i Norge er det foreldrenes fødeland. I de tilfeller der foreldrene har ulikt fødeland, er det morens fødeland som blir valgt. Hvis ikke personen selv eller noen av foreldrene er utenlandsfødt, hentes landbakgrunn fra de første utenlandsfødte en treffer på i rekkefølgen mormor, morfar, farmor eller farfar."
  classification_reference:
    title: Classification or code list ID
    description: ID of a classification or code list from Klass. The given classification defines all possible values for the defined variable.
    type: string
    format: "^[0-9]{1,}%"
    examples:
      - "91"
  unit_types:
    title: Unit types
    description: A list of one or more unit types, e.g. person, vehicle, household. Must be defined as codes from https://www.ssb.no/klass/klassifikasjoner/702.
    type: array
    items:
      type: string
    examples:
      - ["03", "04", "05"]
      - ["10"]
  subject_fields:
    title: Subject fields
    description: A list of subject fields that the variable is used in. Must be defined as codes from https://www.ssb.no/klass/klassifikasjoner/618.
    type: array
    items:
      type: string
    examples:
      - ["he04"]
      - ["if02", "vf05"]
  contains_sensitive_personal_information:
    title: Contains unit identifying information
    description: |
      True if variable instances contain particularly sensitive information. Applies even if the information or identifiers are pseudonymized.

      Information within the following categories are regarded as particularly sensitive:
        - Ethnicity
        - Political alignment
        - Religion
        - Philosophical beliefs
        - Union membership
        - Genetics
        - Biometrics
        - Health
        - Sexual relations
        - Sexual orientation
    type: boolean
  variable_status:
    title: Status of the variable
    description: Status of the life cycle of the variable
    type: string
    enum:
      - DRAFT
      - PUBLISHED_INTERNAL
      - PUBLISHED_EXTERNAL
      - DEPRECATED
  measurement_type:
    title: Measurement type
    description: Type of measurement for the variable, e.g. length, volume, currency. Must be defined as codes from https://www.ssb.no/klass/klassifikasjoner/303
    type: string
    examples:
      - "02.01"
      - "12.02"
  valid_from:
    title: Valid from
    description: The variable definition is valid from this date inclusive
    type: string
    format: date
  valid_until:
    title: Valid until
    description: The variable definition is valid until this date inclusive
    type: string
    format: date
  external_reference_uri:
    title: External reference (URI)
    description: A link (URI) to an external definition/documentation
    type: string
    format: uri
  related_variable_definition_uris:
    title: Related variable(s)
    description: Link(s) to related definitions of variables - a list of one or more
      definitions. For example for a variable after-tax income it could
      be relevant to link to definitions of income from work, property income etc.
    type: array
    items:
      type: string
      format: uri
  contact:
    title: Contact
    description: Contact details
    properties:
      title:
        title: "Title of the contact"
        $ref: "language-texts.json"
      email:
        title: "Email address of the contact"
        type: string
        format: email
required:
  - name
  - short_name
  - definition
  - valid_from
  - unit_types
  - subject_fields
  - variable_status
  - contains_unit_identifying_information
  - contains_sensitive_personal_information
  - contact
